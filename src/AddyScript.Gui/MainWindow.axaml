<Window x:Class="AddyScript.Gui.MainWindow"
        xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:i="https://github.com/projektanker/icons.avalonia"
        xmlns:ae="https://github.com/avaloniaui/avaloniaedit"
        Width="1000"
        Height="650"
        Background="{DynamicResource WindowBackground}"
        Icon="/Assets/Images/Icons/AddyScript.ico"
        Loaded="WindowLoaded"
        KeyDown="WindowKeyDown"
        Closing="WindowClosing">
    
    <Grid RowDefinitions="Auto, *, Auto">
        <Popup Name="InfoPopup"
               Placement="Pointer"
               IsLightDismissEnabled="False">
            <Border Background="#DDEEEEEE"
                    BorderBrush="{DynamicResource WindowBackground}"
                    BorderThickness="1"
                    Padding="5">
                <StackPanel>
                    <TextBlock Name="PopupHeader"
                               Foreground="{DynamicResource WindowBackground}"
                               FontWeight="Bold"
                               Margin="0,0,0,2"/>
                    <TextBlock Name="PopupText" />
                </StackPanel>
            </Border>
        </Popup>
        <StackPanel Grid.Row="0" Classes="toolbar">
            <Button Name="ToolbarNewButton"
                    i:Attached.Icon="fa-file"
                    ToolTip.Tip="New"
                    HotKey="Meta+N"
                    Click="ToolbarNewButtonClick" />
            <Button Name="ToolbarOpenButton"
                    i:Attached.Icon="fa-folder-open"
                    ToolTip.Tip="Open"
                    HotKey="Meta+O"
                    Click="ToolbarOpenButtonClick" />
            <SplitButton Name="ToolbarSaveButton"
                         i:Attached.Icon="fa-floppy-disk"
                         ToolTip.Tip="Save"
                         HotKey="Meta+S"
                         Click="ToolbarSaveButtonClick">
                <SplitButton.Flyout>
                    <MenuFlyout Placement="BottomEdgeAlignedLeft">
                        <MenuItem Name="ToolbarSaveAsMenuItem"
                                  Header="Save as..."
                                  i:MenuItem.Icon="mdi-content-save-edit"
                                  HotKey="Meta+Shift+S"
                                  Click="ToolbarSaveAsMenuItemClick" />
                        <MenuItem Name="ToolbarExportXmlMenuItem"
                                  Header="Export AST to XML"
                                  i:MenuItem.Icon="mdi-file-xml-box"
                                  Click="ToolbarExportXmlMenuItemClick" />
                    </MenuFlyout>
                </SplitButton.Flyout>
            </SplitButton>
            <Button Name="ToolbarPrintButton"
                    i:Attached.Icon="fa-print"
                    ToolTip.Tip="Print"
                    HotKey="Meta+P"
                    Click="ToolbarPrintButtonClick" />
            <Rectangle Classes="divider" />
            <Button Name="ToolbarUndoButton"
                    i:Attached.Icon="fa-rotate-left"
                    ToolTip.Tip="Undo"
                    Click="ToolbarUndoButtonClick" />
            <Button Name="ToolbarRedoButton"
                    i:Attached.Icon="fa-rotate-right"
                    ToolTip.Tip="Redo"
                    Click="ToolbarRedoButtonClick" />
            <Rectangle Classes="divider" />
            <Button Name="ToolbarCutButton"
                    i:Attached.Icon="fa-scissors"
                    ToolTip.Tip="Cut"
                    Click="ToolbarCutButtonClick" />
            <Button Name="ToolbarCopyButton"
                    i:Attached.Icon="fa-copy"
                    ToolTip.Tip="Copy"
                    Click="ToolbarCopyButtonClick" />
            <Button Name="ToolbarPasteButton"
                    i:Attached.Icon="fa-paste"
                    ToolTip.Tip="Paste"
                    Click="ToolbarPasteButtonClick" />
            <Rectangle Classes="divider" />
            <Button Name="ToolbarFindButton"
                    i:Attached.Icon="fa-magnifying-glass"
                    ToolTip.Tip="Find"
                    Click="ToolbarFindButtonClick" />
            <Button Name="ToolbarReplaceButton"
                    i:Attached.Icon="fa-rotate"
                    ToolTip.Tip="Replace"
                    HotKey="Meta+H"
                    Click="ToolbarReplaceButtonClick" />
            <Rectangle Classes="divider" />
            <Button Name="ToolbarIndentButton"
                    i:Attached.Icon="fa-indent"
                    ToolTip.Tip="Indent"
                    Click="ToolbarIndentButtonClick" />
            <Button Name="ToolbarOutdentButton"
                    i:Attached.Icon="fa-outdent"
                    ToolTip.Tip="Outdent"
                    Click="ToolbarOutdentButtonClick" />
            <Button Name="ToolbarCommentButton"
                    i:Attached.Icon="fa-comment"
                    ToolTip.Tip="Comment"
                    HotKey="Meta+K"
                    Click="ToolbarCommentButtonClick" />
            <Button Name="ToolbarUncommentButton"
                    i:Attached.Icon="fa-comment-slash"
                    ToolTip.Tip="Uncomment"
                    HotKey="Meta+Shift+K"
                    Click="ToolbarUncommentButtonClick" />
            <Rectangle Classes="divider" />
            <Button Name="ToolbarRunButton"
                    i:Attached.Icon="fa-play"
                    ToolTip.Tip="Run"
                    HotKey="F5"
                    Click="ToolbarRunButtonClick" />
            <Button Name="ToolbarConfigButton"
                    i:Attached.Icon="fa-gear"
                    ToolTip.Tip="Configure"
                    HotKey="F10"
                    Click="ToolbarConfigButtonClick" />
            <Rectangle Classes="divider" />
            <SplitButton Name="ToolbarHelpButton"
                         i:Attached.Icon="fa-circle-info"
                         ToolTip.Tip="Help"
                         HotKey="F1"
                         Click="ToolbarHelpButtonClick">
                <SplitButton.Flyout>
                    <MenuFlyout Placement="BottomEdgeAlignedLeft">
                        <MenuItem Name="ToolbarHelpAboutMenuItem"
                                  Header="About AddyScript"
                                  Click="ToolbarHelpAboutMenuItemClick" />
                    </MenuFlyout>
                </SplitButton.Flyout>
            </SplitButton>
        </StackPanel>
        <Border Grid.Row="1" Classes="editor-wrapper">
            <ae:TextEditor Name="Editor"
                           FontFamily="Consolas, Menlo, Ubuntu Mono, Anonymous Pro, Monospace"
                           FontSize="14"
                           ShowLineNumbers="True">
                <ae:TextEditor.ContextMenu>
                    <ContextMenu>
                        <MenuItem Name="InsertSnippetMenuItem"
                                  Header="Insert snippet"
                                  Click="InsertSnippetMenuItemClick"/>
                        <MenuItem Name="SurroundWithMenuItem"
                                  Header="Surround with"
                                  Click="SurroundWithMenuItemClick"/>
                        <Separator/>
                        <MenuItem Name="UndoMenuItem"
                                  Header="Undo"
                                  i:MenuItem.Icon="fa-rotate-left"
                                  Click="ToolbarUndoButtonClick"/>
                        <MenuItem Name="RedoMenuItem"
                                  Header="Redo"
                                  i:MenuItem.Icon="fa-rotate-right"
                                  Click="ToolbarRedoButtonClick"/>
                        <Separator/>
                        <MenuItem Name="CutMenuItem"
                                  Header="Cut"
                                  i:MenuItem.Icon="fa-scissors"
                                  Click="ToolbarCutButtonClick"/>
                        <MenuItem Name="CopyMenuItem"
                                  Header="Copy"
                                  i:MenuItem.Icon="fa-copy"
                                  Click="ToolbarCopyButtonClick"/>
                        <MenuItem Name="PasteMenuItem"
                                  Header="Paste"
                                  i:MenuItem.Icon="fa-paste"
                                  Click="ToolbarPasteButtonClick"/>
                        <MenuItem Name="DeleteMenuItem"
                                  Header="Delete"
                                  i:MenuItem.Icon="fa-trash"
                                  Click="DeleteMenuItemClick"/>
                        <Separator/>
                        <MenuItem Name="SelectAllMenuItem"
                                  Header="Select all"
                                  Click="SelectAllMenuItemClick"/>
                        <MenuItem Name="ReformatMenuItem"
                                  Header="Reformat code"
                                  Click="ReformatMenuItemClick"/>
                    </ContextMenu>
                </ae:TextEditor.ContextMenu>
            </ae:TextEditor>
        </Border>
        <Grid Grid.Row="2"
              Classes="statusbar"
              ColumnDefinitions="*, 200, 200, Auto">
            <Label Name="FileNameStatusLabel" Grid.Column="0" />
            <StackPanel Grid.Column="1" Orientation="Horizontal">
                <Rectangle Classes="divider" />
                <Label Name="TextLengthStatusLabel" />
            </StackPanel>
            <StackPanel Grid.Column="2" Orientation="Horizontal">
                <Rectangle Classes="divider" />
                <Label Name="CaretStatusLabel" />
            </StackPanel>
            <StackPanel Name="InfoStatusSection"
                        Grid.Column="3"
                        Orientation="Horizontal"
                        IsVisible="False">
                <Rectangle Classes="divider" />
            </StackPanel>
        </Grid>
    </Grid>
</Window>
